import streamlit as st

# –ë–µ—Ç—Ç—ñ“£ –¥–∏–∑–∞–π–Ω—ã–Ω –±–∞–ø—Ç–∞—É
st.set_page_config(page_title="–î–ñ–¢ 7-—Å—ã–Ω—ã–ø –¢–µ—Å—Ç", page_icon="üìú", layout="centered")

# –°“±—Ä–∞“õ—Ç–∞—Ä –±–∞–∑–∞—Å—ã (“ö“±–∂–∞—Ç –±–æ–π—ã–Ω—à–∞ —Ç–æ–ª—ã“õ –∂–∏–Ω–∞“õ—Ç–∞–ª“ì–∞–Ω)
quiz_data = {
    "¬ß1. –ñ–∞“£–∞ –∑–∞–º–∞–Ω –¥”ô—É—ñ—Ä—ñ": [
        {"q": "–ñ–∞“£–∞ –∑–∞–º–∞–Ω–Ω—ã“£ –µ–∫—ñ–Ω—à—ñ –∫–µ–∑–µ“£—ñ–Ω–¥–µ “õ–∞–ª—ã–ø—Ç–∞—Å“õ–∞–Ω –º–µ–º–ª–µ–∫–µ—Ç—Ç—ñ–∫ –±–∞—Å“õ–∞—Ä—É —Ñ–æ—Ä–º–∞—Å—ã:", "options": ["—Ç–µ–æ–∫—Ä–∞—Ç–∏—è–ª—ã“õ –º–æ–Ω–∞—Ä—Ö–∏—è", "–∞–±—Å–æ–ª—é—Ç—Ç—ñ–∫ –º–æ–Ω–∞—Ä—Ö–∏—è", "–∞–Ω–∞—Ä—Ö–∏—è", "–ø–∞—Ä–ª–∞–º–µ–Ω—Ç—Ç—ñ–∫ –¥–µ–º–æ–∫—Ä–∞—Ç–∏—è", "–¥–∏–∫—Ç–∞—Ç—É—Ä–∞"], "a": "–ø–∞—Ä–ª–∞–º–µ–Ω—Ç—Ç—ñ–∫ –¥–µ–º–æ–∫—Ä–∞—Ç–∏—è"},
        {"q": "–ñ–∞“£–∞ –∑–∞–º–∞–Ω –±—ñ—Ä—ñ–Ω—à—ñ –∫–µ–∑–µ“£—ñ–Ω—ñ“£ –±–∞—Å—ã:", "options": ["–•V–Ü “ì. –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã —Ä–µ–≤–æ–ª—é—Ü–∏—è—Å—ã", "–•V–Ü–Ü–Ü “ì. —Å–æ“£—ã–Ω–¥–∞“ì—ã –§—Ä–∞–Ω—Ü—É–∑ —Ä–µ–≤–æ–ª—é—Ü–∏—è—Å—ã", "–•V–Ü–Ü “ì. –∞“ì—ã–ª—à—ã–Ω –±—É—Ä–∂—É–∞–∑–∏—è–ª—ã“õ —Ä–µ–≤–æ–ª—é—Ü–∏—è—Å—ã", "–•V “ì. –ê–º–µ—Ä–∏–∫–∞–Ω—ã“£ –∞—à—ã–ª—É—ã"], "a": "–•V–Ü–Ü “ì. –∞“ì—ã–ª—à—ã–Ω –±—É—Ä–∂—É–∞–∑–∏—è–ª—ã“õ —Ä–µ–≤–æ–ª—é—Ü–∏—è—Å—ã"},
        {"q": "–î“Ø–Ω–∏–µ–∂“Ø–∑—ñ —Ç–∞—Ä–∏—Ö—ã–Ω–¥–∞“ì—ã ¬´–ñ–∞“£–∞ –∑–∞–º–∞–Ω¬ª “±“ì—ã–º—ã –ø–∞–π–¥–∞ –±–æ–ª–¥—ã:", "options": ["“ö–∞–π—Ç–∞ ”©—Ä–ª–µ—É –∫–µ–∑–µ“£—ñ–Ω–¥–µ", "–ê“ì–∞—Ä—Ç—É—à—ã–ª—ã“õ –∫–µ–∑–µ“£—ñ–Ω–¥–µ", "–≠–ª–ª–∏–Ω–¥—ñ–∫ –∫–µ–∑–µ“£–¥–µ", "–ê–Ω—Ç–∏–∫–∞–ª—ã“õ –∫–µ–∑–µ“£–¥–µ"], "a": "“ö–∞–π—Ç–∞ ”©—Ä–ª–µ—É –∫–µ–∑–µ“£—ñ–Ω–¥–µ"},
        {"q": "–ò–Ω–¥—É—Å—Ç—Ä–∏—è–ª—ã“õ ”©—Ä–∫–µ–Ω–∏–µ—Ç—Ç—ñ“£ –æ—Ç–∞–Ω—ã:", "options": ["–§—Ä–∞–Ω—Ü–∏—è", "–ì–µ—Ä–º–∞–Ω–∏—è", "–ê–Ω–≥–ª–∏—è", "–ê“ö–®"], "a": "–ê–Ω–≥–ª–∏—è"}
    ],
    "¬ß2. –ê“ì—ã–ª—à—ã–Ω –±—É—Ä–∂—É–∞–∑–∏—è–ª—ã“õ —Ä–µ–≤–æ–ª—é—Ü–∏—è—Å—ã": [
        {"q": "1640-1660 –∂—ã–ª–¥–∞—Ä—ã –±–æ–ª“ì–∞–Ω —Ä–µ–≤–æ–ª—é—Ü–∏—è:", "options": ["–§—Ä–∞–Ω—Ü—É–∑", "–ê“ì—ã–ª—à—ã–Ω", "–ê–º–µ—Ä–∏–∫–∞–Ω", "–ù–∏–¥–µ—Ä–ª–∞–Ω–¥"], "a": "–ê“ì—ã–ª—à—ã–Ω"},
        {"q": "1649 –∂. —Ä–µ—Å–ø—É–±–ª–∏–∫–∞ –±–æ–ª—ã–ø –∂–∞—Ä–∏—è–ª–∞–Ω–¥—ã:", "options": ["–ì–µ—Ä–º–∞–Ω–∏—è", "–ê–Ω–≥–ª–∏—è", "–ò—Ç–∞–ª–∏—è", "–§—Ä–∞–Ω—Ü–∏—è"], "a": "–ê–Ω–≥–ª–∏—è"},
        {"q": "–ñ–∞“£–∞ –¥–≤–æ—Ä—è–Ω–¥–∞—Ä–¥—ã“£ –∞—Ç–∞—É—ã:", "options": ["–õ–æ—Ä–¥—Ç–∞—Ä", "–î–∂–µ–Ω—Ç—Ä–∏–ª–µ—Ä", "–†—ã—Ü–∞—Ä—å–ª–∞—Ä", "–ë—É—Ä–∂—É–∞–∑–∏—è"], "a": "–î–∂–µ–Ω—Ç—Ä–∏–ª–µ—Ä"}
    ],
    "¬ß3. ”®–Ω–µ—Ä–∫”ô—Å—ñ–ø —Ç”©“£–∫–µ—Ä—ñ—Å—ñ": [
        {"q": "1765 –∂—ã–ª—ã ¬´–î–∂–µ–Ω–Ω–∏¬ª –∞—Ç—Ç—ã –º–µ—Ö–∞–Ω–∏–∫–∞–ª—ã“õ “±—Ä—à—ã“õ—Ç—ã –æ–π–ª–∞–ø —Ç–∞–ø“õ–∞–Ω:", "options": ["–î–∂.–£–∞—Ç—Ç", "–î–∂.–•–∞—Ä–≥—Ä–∏–≤—Å", "–†.–ê—Ä–∫—Ä–∞–π—Ç", "–≠.–ö–∞—Ä—Ç—Ä–∞–π—Ç"], "a": "–î–∂.–•–∞—Ä–≥—Ä–∏–≤—Å"},
        {"q": "–ë—É –º–∞—à–∏–Ω–∞—Å—ã–Ω –∂–µ—Ç—ñ–ª–¥—ñ—Ä—ñ–ø, ”©–Ω–¥—ñ—Ä—ñ—Å–∫–µ –µ–Ω–≥—ñ–∑–≥–µ–Ω:", "options": ["–î–∂.–£–∞—Ç—Ç", "–°.–ö—Ä–æ–º–ø—Ç–æ–Ω", "–î–∂.–ö–µ–π", "–†.–§—É–ª—Ç–æ–Ω"], "a": "–î–∂.–£–∞—Ç—Ç"}
    ],
    "¬ß4-5. –®—ã“ì—ã—Å –µ–ª–¥–µ—Ä—ñ (“Æ–Ω–¥—ñ—Å—Ç–∞–Ω, “ö—ã—Ç–∞–π)": [
        {"q": "”ò–º—ñ—Ä –¢–µ–º—ñ—Ä–¥—ñ“£ “Æ–Ω–¥—ñ—Å—Ç–∞–Ω–¥–∞“ì—ã “±—Ä–ø–∞“ì—ã, “∞–ª—ã –ú–æ“ì–æ–ª–¥–∞—Ä –º–µ–º–ª–µ–∫–µ—Ç—ñ–Ω “õ“±—Ä—É—à—ã:", "options": ["–ù–∞–¥—ñ—Ä —à–∞—Ö", "–ë–∞–±—ã—Ä", "–ê–∫–±–∞—Ä", "–ê—É—Ä–∞–Ω–≥–∑–µ–±"], "a": "–ë–∞–±—ã—Ä"},
        {"q": "–ê–ª—è—Å–∫–∞–¥–∞ –∞–ª“ì–∞—à“õ—ã –æ—Ä—ã—Å –µ–ª–¥—ñ –º–µ–∫–µ–Ω—ñ –ø–∞–π–¥–∞ –±–æ–ª“ì–∞–Ω –∂—ã–ª:", "options": ["1784 –∂.", "1750 –∂.", "1801 –∂.", "1700 –∂."], "a": "1784 –∂."},
        {"q": "“ö—ã—Ç–∞–π–¥–∞“ì—ã –¶–∏–Ω –∏–º–ø–µ—Ä–∏—è—Å—ã “±—Å—Ç–∞–Ω“ì–∞–Ω —Å–∞—è—Å–∞—Ç:", "options": ["–ê—à—ã“õ –µ—Å—ñ–∫", "–ñ–∞–±—ã“õ –µ—Å—ñ–∫", "–û—Ç–∞—Ä—à—ã–ª–¥—ã“õ", "–õ–∏–±–µ—Ä–∞–ª–¥—ã"], "a": "–ñ–∞–±—ã“õ –µ—Å—ñ–∫"}
    ],
    "¬ß6-9. –ê“ì–∞—Ä—Ç—É—à—ã–ª—ã“õ –∂”ô–Ω–µ –§—Ä–∞–Ω—Ü—É–∑ —Ä–µ–≤–æ–ª—é—Ü–∏—è—Å—ã": [
        {"q": "¬´–¢”ô—É–µ–ª—Å—ñ–∑–¥—ñ–∫ –î–µ–∫–ª–∞—Ä–∞—Ü–∏—è—Å—ã–Ω—ã“£¬ª –∞–≤—Ç–æ—Ä—ã:", "options": ["–î–∂.–í–∞—à–∏–Ω–≥—Ç–æ–Ω", "–¢.–î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω", "–ë.–§—Ä–∞–Ω–∫–ª–∏–Ω", "–ê.–õ–∏–Ω–∫–æ–ª—å–Ω"], "a": "–¢.–î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω"},
        {"q": "–ê“ö–® –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è—Å—ã “õ–∞–±—ã–ª–¥–∞–Ω“ì–∞–Ω –∂—ã–ª:", "options": ["1776 –∂.", "1783 –∂.", "1787 –∂.", "1791 –∂."], "a": "1787 –∂."},
        {"q": "–§—Ä–∞–Ω—Ü–∏—è–¥–∞“ì—ã –º–æ–Ω–∞—Ä—Ö–∏—è “õ“±–ª–∞–ø, —Ä–µ—Å–ø—É–±–ª–∏–∫–∞ –∂–∞—Ä–∏—è–ª–∞–Ω“ì–∞–Ω –∂—ã–ª:", "options": ["1789 –∂.", "1792 –∂.", "1794 –∂.", "1799 –∂."], "a": "1792 –∂."}
    ]
}

def main():
    st.title("üìö –î–ñ–¢ 7-—Å—ã–Ω—ã–ø: –¢–µ—Å—Ç –æ—Ä—Ç–∞–ª—ã“ì—ã")
    st.markdown("---")

    # Sidebar - –¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞—É
    topic = st.sidebar.selectbox("üìñ –¢–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑:", list(quiz_data.keys()))
    
    st.header(topic)
    
    questions = quiz_data[topic]
    user_answers = {}

    # –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Å—ã
    with st.form(key="quiz_form"):
        for i, item in enumerate(questions):
            st.subheader(f"–°“±—Ä–∞“õ ‚Ññ{i+1}")
            st.write(item["q"])
            user_answers[i] = st.radio("–ñ–∞—É–∞–ø –Ω“±—Å“õ–∞–ª–∞—Ä—ã:", item["options"], key=f"q_{i}")
            st.write("") # –ë–æ—Å –æ—Ä—ã–Ω
            
        submit_button = st.form_submit_button(label="–ù”ô—Ç–∏–∂–µ–Ω—ñ —Ç–µ–∫—Å–µ—Ä—É")

    # –ù”ô—Ç–∏–∂–µ —à—ã“ì–∞—Ä—É
    if submit_button:
        score = 0
        st.markdown("### üìä –°—ñ–∑–¥—ñ“£ –Ω”ô—Ç–∏–∂–µ“£—ñ–∑:")
        
        for i, item in enumerate(questions):
            is_correct = user_answers[i] == item["a"]
            if is_correct:
                score += 1
                st.success(f"‚úÖ {i+1}-—Å“±—Ä–∞“õ: –î“∞–†–´–°!")
            else:
                # “ö–∞—Ç–µ –∂–∞—É–∞–ø—Ç—ã “ö–´–ó–´–õ–ú–ï–ù –±–µ–ª–≥—ñ–ª–µ—É –∂”ô–Ω–µ –¥“±—Ä—ã—Å—ã–Ω –∫”©—Ä—Å–µ—Ç—É
                st.error(f"‚ùå {i+1}-—Å“±—Ä–∞“õ: “ö–ê–¢–ï!")
                st.markdown(f"**–°—ñ–∑–¥—ñ“£ –∂–∞—É–∞–±—ã“£—ã–∑:** {user_answers[i]}")
                st.markdown(f"**–ù–∞“õ—Ç—ã (–¥“±—Ä—ã—Å) –∂–∞—É–∞–±—ã:** :green[{item['a']}]")
            st.write("---")

        # –ñ–∞–ª–ø—ã “±–ø–∞–π
        percent = (score / len(questions)) * 100
        if percent >= 80:
            st.balloons()
            st.success(f"–ö–µ—Ä–µ–º–µ—Ç! –°—ñ–∑–¥—ñ“£ –∫”©—Ä—Å–µ—Ç–∫—ñ—à—ñ“£—ñ–∑: {score}/{len(questions)} ({percent}%)")
        else:
            st.warning(f"–ñ–∞“õ—Å—ã, –±—ñ—Ä–∞“õ ”ô–ª—ñ –¥–µ —ñ–∑–¥–µ–Ω—É –∫–µ—Ä–µ–∫: {score}/{len(questions)} ({percent}%)")

if __name__ == "__main__":
    main()
